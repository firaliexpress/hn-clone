(this["webpackJsonpreact.local"]=this["webpackJsonpreact.local"]||[]).push([[0],{55:function(t,n,e){t.exports=e(88)},88:function(t,n,e){"use strict";e.r(n);var r=e(0),o=e.n(r),a=e(17),i=e.n(a),c=e(20),u=e(10),s=e(14),l={SET_THEME:"".concat("@hnReader/app","/SET_THEME")},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{theme:"dark"},n=arguments.length>1?arguments[1]:void 0,e=n.type,r=n.payload;switch(e){case l.SET_THEME:return Object(s.a)({},t,{},r);default:return t}},h=e(27),d=e(18),p=e(19),g=e(39),S=e.n(g),m=Object({NODE_ENV:"production",PUBLIC_URL:"//firaliexpress.github.io/hn-clone"}).URL||"http://localhost:3000",E={"Content-Type":"application/json",Accept:"application/json"},v=new(function(){function t(n){var e=n.baseURL,r=void 0===e?m:e,o=n.timeout,a=void 0===o?2e3:o,i=n.headers,c=void 0===i?E:i,u=n.auth;Object(d.a)(this,t);var s=S.a.create({baseURL:r,timeout:a,headers:c,auth:u});s.interceptors.response.use(this.handleSuccess,this.handleError),this.client=s}return Object(p.a)(t,[{key:"handleSuccess",value:function(t){return t}},{key:"handleError",value:function(t){return Promise.reject(t)}},{key:"get",value:function(t){return this.client.get(t).then((function(t){return t.data}))}},{key:"post",value:function(t,n){return this.client.post(t,n).then((function(t){return t.data}))}},{key:"put",value:function(t,n){return this.client.put(t,n).then((function(t){return t.data}))}},{key:"path",value:function(t,n){return this.client.path(t,n).then((function(t){return t.data}))}},{key:"delete",value:function(t){return this.client.delete(t).then((function(t){return t.data}))}}]),t}())({baseURL:"https://hacker-news.firebaseio.com/v0"}),b={};b.getTopStoryIds=function(){return v.get("/topstories".concat(".json?print=pretty"))},b.getStory=function(t){return v.get("/item/".concat(t).concat(".json?print=pretty"))},b.getStoriesByPage=function(t,n){var e=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:n*t,end:(n+1)*t}}(20,n),r=function(t){var n=t.begin,e=t.end;return t.items.slice(n,e)}({begin:e.begin,end:e.end,items:t}).map((function(t){return b.getStory(t)}));return Promise.all(r)};var y=b,_="@hnReader/story",T={FETCH_STORY_IDS_REQUEST:"".concat(_,"/FETCH_STORY_IDS_REQUEST"),FETCH_STORY_IDS_SUCCESS:"".concat(_,"/FETCH_STORY_IDS_SUCCESS"),FETCH_STORY_IDS_FAILURE:"".concat(_,"/FETCH_STORY_IDS_FAILURE"),FETCH_STORIES_REQUEST:"".concat(_,"/FETCH_STORIES_REQUEST"),FETCH_STORIES_SUCCESS:"".concat(_,"/FETCH_STORIES_SUCCESS"),FETCH_STORIES_FAILURE:"".concat(_,"/FETCH_STORIES_FAILURE")},O=function(t,n){return{type:t,payload:n}},w={fetchStoryIds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){return n(O(T.FETCH_STORY_IDS_REQUEST,t)),y.getTopStoryIds().then((function(t){return n(O(T.FETCH_STORY_IDS_SUCCESS,{storyIds:t})),n(w.fetchStories({storyIds:t,page:0})),t})).catch((function(t){return n(O(T.FETCH_STORY_IDS_FAILURE,t))}))}},fetchStories:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var e=t.storyIds,r=t.page;return n(O(T.FETCH_STORIES_REQUEST,t)),y.getStoriesByPage(e,r).then((function(t){return n(O(T.FETCH_STORIES_SUCCESS,{stories:t}))})).catch((function(t){return n(O(T.FETCH_STORIES_FAILURE),t)}))}}},C=w,I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{storyIds:[],stories:[],page:0,isFetching:!1,error:""},n=arguments.length>1?arguments[1]:void 0,e=n.type,r=n.payload;switch(e){case T.FETCH_STORY_IDS_REQUEST:case T.FETCH_STORIES_REQUEST:return Object(s.a)({},t,{isFetching:!0});case T.FETCH_STORY_IDS_SUCCESS:return Object(s.a)({},t,{},r);case T.FETCH_STORIES_SUCCESS:return Object(s.a)({},t,{stories:[].concat(Object(h.a)(t.stories),Object(h.a)(r.stories)),page:t.page+1,isFetching:!1});default:return t}},x=Object(u.c)({app:f,story:I}),R=e(40),j=(e(41),[]);j.push(R.a);var F=Object(u.d)(u.a.apply(void 0,j)),k=function(t){return Object(u.e)(x,t,F)},U=e(48),H=e(12),L=e(42),D=Object(L.a)((function(t){return t.story.storyIds}),(function(t){return t.story.stories}),(function(t,n){return t.length>n.length})),Y=e(51),M=e(43),A=e(52),Q=e(2),z=e(44),N=e(50),P=e(45),B=e.n(P),W=function(t){var n="";return t&&(t.includes("//")||(t="http://".concat(t)),n=B.a.parse(t).hostname),n.includes("www.")&&(n=n.split("www.")[1]),n},J="https://news.ycombinator.com",V="".concat(J,"/item?id="),$="".concat(J,"/user?id="),q=function(t){var n=t.url,e=t.id,r="".concat(V).concat(e);return n||r},G=e(3);function K(){var t=Object(G.a)(["\n\tcolor: ",";\n\t&:visited {\n\t\tcolor: ",";\n\t}\n"]);return K=function(){return t},t}function X(){var t=Object(G.a)(["\n\tfont-size: 14px;\n\tcolor: ",";\n"]);return X=function(){return t},t}function Z(){var t=Object(G.a)(["\n\tcolor: ",";\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n\tflex-direction: row;\n\talign-items: center;\n\ttext-decoration: none;\n"]);return Z=function(){return t},t}function tt(){var t=Object(G.a)(["\n\tcolor: ",";\n\tfont-size: 12px;\n\t&:hover {\n\t\tcolor: #fff;\n\t}\n"]);return tt=function(){return t},t}function nt(){var t=Object(G.a)(["\n\tcolor: ",";\n\tmargin-top: 0;\n\tmargin-bottom: 6px;\n\tfont-weight: 400;\n\tfont-size: 16px;\n\tletter-spacing: 0.4px;\n"]);return nt=function(){return t},t}function et(){var t=Object(G.a)(["\n\tborder-bottom: 1px solid ",";\n\tpadding: 14px 24px;\n\t\n\t&:last-child {\n\t\tborder-bottom: none;\n\t}\n"]);return et=function(){return t},t}var rt=Q.c.li(et(),(function(t){return t.theme.border})),ot=Q.c.h3(nt(),(function(t){return t.theme.text})),at=Q.c.a(tt(),(function(t){return t.theme.textSecondary})),it=Q.c.a(Z(),(function(t){return t.theme.text})),ct=Q.c.div(X(),(function(t){return t.theme.textSecondary})),ut=Q.c.a(K(),(function(t){return t.theme.textSecondary}),(function(t){return t.theme.textSecondary})),st="nofollow noreferrer noopener",lt=function(t){var n=t.by,e=t.kids,r=void 0===e?[]:e,a=t.score,i=t.url,c=t.title,u=t.id,s=(t.type,t.time),l=W(i)||"news.ycombinator.com",f=q({url:i,id:u}),h="".concat(V).concat(u),d="".concat($).concat(n);return o.a.createElement(rt,null,o.a.createElement(it,{href:f,rel:st,target:"_blank"},o.a.createElement(ot,null,c," ",o.a.createElement(at,{href:f,target:"_blank"},"(",l,")"))),o.a.createElement(ct,null,a," point by"," ",o.a.createElement(ut,{href:d,rel:st,target:"_blank"},n)," ",Object(N.a)(new Date(1e3*s).toISOString())," "," | ",o.a.createElement(ut,{href:h,rel:st,target:"_blank"},r.length," Comments")))};function ft(){var t=Object(G.a)(["\n\tbackground-color: ",";\n\tborder-radius: 4px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tmargin-bottom: 20px;\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return ft=function(){return t},t}var ht=Q.c.ul(ft(),(function(t){return t.theme.backgroundSecondary})),dt=function(t){var n=t.stories;return o.a.createElement(ht,null,n&&n.map((function(t){return o.a.createElement(lt,Object.assign({key:t.id},t))})))};function pt(){var t=Object(G.a)(["\n  text-align: center;\n\n  span {\n    color: ",";\n    display: inline-block;\n    margin-left: 4px;\n    margin-right: 4px;\n    font-size: 80px;\n    line-height: 0.1;\n    animation-name: ",";\n    animation-duration: 1s;\n    animation-iteration-count: infinite;\n    animation-fill-mode: both;\n  }\n\n  span:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n\n  span:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n\n"]);return pt=function(){return t},t}function gt(){var t=Object(G.a)(["\n  0% {\n    opacity: .2\n  }\n  20% {\n    opacity: 1\n  }\n  0% {\n    opacity: .2\n  }\n"]);return gt=function(){return t},t}var St=Object(Q.d)(gt()),mt=Q.c.div(pt(),(function(t){return t.theme.textSecondary}),St),Et=function(){return o.a.createElement(mt,null,o.a.createElement("span",null,"."),o.a.createElement("span",null,"."),o.a.createElement("span",null,"."))},vt={background:"#272727",backgroundSecondary:"#393C3E",text:"#bfbebe",textSecondary:"#848886",border:"#272727"};function bt(){var t=Object(G.a)(["\n\tcolor: ",";\n\tfont-size: 20px;\n\tfont-weight: 300;\n\tmargin-top: 24px;\n\tmargin-bottom: 26px;\n"]);return bt=function(){return t},t}function yt(){var t=Object(G.a)(["\n\twidth: 85%;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\theight: 100%;\n\toverflow: hidden;\n\tpadding-bottom: 200px;\n\t\n\t"," {\n\t\twidth: 96%;\n\t}\n"]);return yt=function(){return t},t}var _t=Q.c.div(yt(),"@media only screen and (max-width: 768px)"),Tt=Q.c.h1(bt(),(function(t){return t.theme.textSecondary})),Ot=function(t){function n(){var t,e;Object(d.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=Object(Y.a)(this,(t=Object(M.a)(n)).call.apply(t,[this].concat(o)))).fetchStories=function(){var t=e.props,n=t.storyIds,r=t.page,o=t.fetchStories;t.isFetching||o({storyIds:n,page:r})},e}return Object(A.a)(n,t),Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchStoriesFirstPage()}},{key:"render",value:function(){var t=this.props,n=t.stories,e=t.hasMoreStories;return o.a.createElement(Q.a,{theme:vt},o.a.createElement("div",null,o.a.createElement(_t,null,o.a.createElement(Tt,null,"Hacker News Reader"),o.a.createElement(z.a,{dataLength:n.length,next:this.fetchStories,hasMore:e,loader:o.a.createElement(Et,null),style:{height:"100%",overflow:"visible"}},o.a.createElement(dt,{stories:n})))))}}]),n}(r.Component),wt=Object(c.b)((function(t){return{hasMoreStories:D(t),stories:t.story.stories,page:t.story.page,storyIds:t.story.storyIds,isFetching:t.story.isFetching}}),(function(t){return{fetchStoriesFirstPage:function(){return t(C.fetchStoryIds())},fetchStories:function(n){var e=n.storyIds,r=n.page;return t(C.fetchStories({storyIds:e,page:r}))}}}))(Ot);function Ct(){var t=Object(G.a)(['\n\t* {\n\t\tbox-sizing: border-box;\n\t}\n\tbody {\n\t\tmargin: 0;\n\t\tfont-family: Lato, -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n\t\t\t"Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n\t\t\tsans-serif;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t}\n\tcode {\n\t\tfont-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n\t\t\tmonospace;\n\t}\n\tul {\n\t\tlist-style: none;\n\t\tpadding: 0;\n\t}\n\ta {\n\t\ttext-decoration: none;\n\t\t&:visited {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n']);return Ct=function(){return t},t}var It=Object(Q.b)(Ct()),xt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Rt(t){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(t){console.error("Error during service worker registration:",t)}))}!function(){var t=k({});i.a.render(o.a.createElement(c.a,{store:t},o.a.createElement(It,null),o.a.createElement(U.a,{basename:"/".concat("hn-clone")},o.a.createElement(H.a,{path:"/",component:wt}))),document.getElementById("root"))}(),function(){if("serviceWorker"in navigator){if(new URL("//firaliexpress.github.io/hn-clone",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("//firaliexpress.github.io/hn-clone","/service-worker.js");xt?(!function(t){fetch(t).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):Rt(t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Rt(t)}))}}()}},[[55,1,2]]]);
//# sourceMappingURL=main.2e89d551.chunk.js.map